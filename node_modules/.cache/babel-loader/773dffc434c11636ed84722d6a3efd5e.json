{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/PC/Documents/PROGRAMMING/MERN/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/PC/Documents/PROGRAMMING/MERN/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\PC\\\\Documents\\\\PROGRAMMING\\\\MERN\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{useNavigate,useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditSalary=function EditSalary(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),salary=_useState2[0],setSalary=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),position=_useState4[0],setPosition=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),depId=_useState6[0],setDepId=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),departments=_useState8[0],setDepartments=_useState8[1];var navigate=useNavigate();var _useParams=useParams(),id=_useParams.id;useEffect(function(){var fetchSalary=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:5000/salary/getSalary/\".concat(id));case 3:response=_context.sent;console.log(response.data);setDepId(response.data.job_id);setPosition(response.data.position);setSalary(response.data.salary);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching salary:\",_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function fetchSalary(){return _ref.apply(this,arguments);};}();fetchSalary();},[id]);useEffect(function(){var fetchDepartments=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"http://localhost:5000/job\");case 3:response=_context2.sent;setDepartments(response.data);_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.error(\"Error fetching departments:\",_context2.t0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function fetchDepartments(){return _ref2.apply(this,arguments);};}();fetchDepartments();},[]);var saveSalary=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();_context3.prev=1;_context3.next=4;return axios.patch(\"http://localhost:5000/salary/\".concat(id),{depId:depId,position:position,salary:salary});case 4:navigate(\"/SalaryList\");_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](1);console.error(\"Error updating salary:\",_context3.t0);case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[1,7]]);}));return function saveSalary(_x){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"column is-half container mt-5\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:saveSalary,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Job Title\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"div\",{className:\"select is-fullwidth\",children:/*#__PURE__*/_jsxs(\"select\",{value:depId,onChange:function onChange(e){return setDepId(e.target.value);},required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a department\"}),departments.map(function(dep){return/*#__PURE__*/_jsx(\"option\",{value:dep.id,children:dep.Job_Title},dep.id);})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Position\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",value:position,onChange:function onChange(e){return setPosition(e.target.value);},placeholder:\"Position\",required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Salary\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"input\",value:salary,onChange:function onChange(e){return setSalary(e.target.value);},placeholder:\"Salary\",required:true})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-success\",children:\"Save\"})})]})})});};export default EditSalary;","map":{"version":3,"sources":["C:/Users/PC/Documents/PROGRAMMING/MERN/frontend/src/components/Salary/EditSalary.js"],"names":["React","useState","useEffect","axios","useNavigate","useParams","EditSalary","salary","setSalary","position","setPosition","depId","setDepId","departments","setDepartments","navigate","id","fetchSalary","get","response","console","log","data","job_id","error","fetchDepartments","saveSalary","e","preventDefault","patch","target","value","map","dep","Job_Title"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n\r\nconst EditSalary = () => {\r\n  const [salary, setSalary] = useState(\"\");\r\n  const [position, setPosition] = useState(\"\");\r\n  const [depId, setDepId] = useState(\"\");\r\n  const [departments, setDepartments] = useState([]);\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    const fetchSalary = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `http://localhost:5000/salary/getSalary/${id}`\r\n        );\r\n        console.log(response.data);\r\n        setDepId(response.data.job_id);\r\n        setPosition(response.data.position);\r\n        setSalary(response.data.salary);\r\n      } catch (error) {\r\n        console.error(\"Error fetching salary:\", error);\r\n      }\r\n    };\r\n\r\n    fetchSalary();\r\n  }, [id]); \r\n\r\n  useEffect(() => {\r\n    const fetchDepartments = async () => {\r\n      try {\r\n        const response = await axios.get(\"http://localhost:5000/job\");\r\n        setDepartments(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching departments:\", error);\r\n      }\r\n    };\r\n    fetchDepartments();\r\n  }, []);\r\n\r\n  const saveSalary = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.patch(`http://localhost:5000/salary/${id}`, {\r\n        depId,\r\n        position,\r\n        salary,\r\n      });\r\n      navigate(\"/SalaryList\");\r\n    } catch (error) {\r\n      console.error(\"Error updating salary:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"column is-half container mt-5\">\r\n        <form onSubmit={saveSalary}>\r\n          {/* Department */}\r\n          <div className=\"field\">\r\n            <label className=\"label\">Job Title</label>\r\n            <div className=\"control\">\r\n              <div className=\"select is-fullwidth\">\r\n                <select\r\n                  value={depId}\r\n                  onChange={(e) => setDepId(e.target.value)}\r\n                  required\r\n                >\r\n                  <option value=\"\">Select a department</option>\r\n                  {departments.map((dep) => (\r\n                    <option key={dep.id} value={dep.id}>\r\n                      {dep.Job_Title}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Position */}\r\n          <div className=\"field\">\r\n            <label className=\"label\">Position</label>\r\n            <div className=\"control\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"input\"\r\n                value={position}\r\n                onChange={(e) => setPosition(e.target.value)}\r\n                placeholder=\"Position\"\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Salary */}\r\n          <div className=\"field\">\r\n            <label className=\"label\">Salary</label>\r\n            <div className=\"control\">\r\n              <input\r\n                type=\"number\"\r\n                className=\"input\"\r\n                value={salary}\r\n                onChange={(e) => setSalary(e.target.value)}\r\n                placeholder=\"Salary\"\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Submit Button */}\r\n          <div className=\"field\">\r\n            <button type=\"submit\" className=\"button is-success\">\r\n              Save\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditSalary;\r\n"]},"metadata":{},"sourceType":"module"}