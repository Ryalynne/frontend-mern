{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/PC/Documents/PROGRAMMING/MERN/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/PC/Documents/PROGRAMMING/MERN/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\PC\\\\Documents\\\\PROGRAMMING\\\\MERN\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserList=function UserList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUser=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchTerm=_useState4[0],setSearchTerm=_useState4[1];var _useState5=useState(10),_useState6=_slicedToArray(_useState5,2),entriesToShow=_useState6[0],setEntriesToShow=_useState6[1];useEffect(function(){getUsers();},[]);var getUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:5000/users\");case 3:response=_context.sent;setUser(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching users:\",_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getUsers(){return _ref.apply(this,arguments);};}();var deleteUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.delete(\"http://localhost:5000/users/\".concat(id));case 3:getUsers();_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);console.error(\"Error deleting user:\",_context2.t0);case 9:case\"end\":return _context2.stop();}}},_callee2,null,[[0,6]]);}));return function deleteUser(_x){return _ref2.apply(this,arguments);};}();// Filter users based on search term\nvar filteredUsers=users.filter(function(user){return\"\".concat(user.full_name,\" \").concat(user.email,\" \").concat(user.Job_Title,\" \").concat(user.position,\" \").concat(user.id).toLowerCase().includes(searchTerm.toLowerCase());});// Limit displayed entries based on selection\nvar displayedUsers=filteredUsers.slice(0,entriesToShow);return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"is-flex is-justify-content-space-between mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",style:{maxWidth:\"300px\"},placeholder:\"Search by Employee ID, Name, Email, Job Title, or Position...\",value:searchTerm,onChange:function onChange(e){return setSearchTerm(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"AddEmployee\",className:\"button is-success\",children:\"Add Employee\"})})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table is-striped is-fullwidth\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Employee ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Full Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Gender\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Job Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Position / Level\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Salary\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Annual Salary\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:displayedUsers.length>0?displayedUsers.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.id}),/*#__PURE__*/_jsx(\"td\",{children:user.full_name}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.gender}),/*#__PURE__*/_jsx(\"td\",{children:user.Job_Title}),/*#__PURE__*/_jsx(\"td\",{children:user.position}),/*#__PURE__*/_jsx(\"td\",{children:user.salary?\"\\u20B1\".concat(parseFloat(user.salary).toLocaleString(\"en-PH\",{minimumFractionDigits:2})):\"\"}),/*#__PURE__*/_jsx(\"td\",{children:user.anual_salary?\"\\u20B1\".concat(parseFloat(user.anual_salary).toLocaleString(\"en-PH\",{minimumFractionDigits:2})):\"\"}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"edit/\".concat(user.id),className:\"button is-small is-info mr-2\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteUser(user.id);},className:\"button is-small is-danger\",children:\"Delete\"})]})]},user.id);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"9\",className:\"has-text-centered\",children:\"No users found.\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"is-flex is-align-items-center is-justify-content-space-between mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"mr-2\",children:\"Show entries:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"select\",children:/*#__PURE__*/_jsxs(\"select\",{value:entriesToShow,onChange:function onChange(e){return setEntriesToShow(Number(e.target.value));},children:[/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"5\"}),/*#__PURE__*/_jsx(\"option\",{value:\"10\",children:\"10\"}),/*#__PURE__*/_jsx(\"option\",{value:\"20\",children:\"20\"}),/*#__PURE__*/_jsx(\"option\",{value:filteredUsers.length,children:\"All\"})]})})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Showing \",displayedUsers.length,\" of \",filteredUsers.length,\" entries\"]})]})]});};export default UserList;","map":{"version":3,"sources":["C:/Users/PC/Documents/PROGRAMMING/MERN/frontend/src/components/Employee/UserList.js"],"names":["React","useState","useEffect","axios","Link","UserList","users","setUser","searchTerm","setSearchTerm","entriesToShow","setEntriesToShow","getUsers","get","response","data","console","error","deleteUser","id","delete","filteredUsers","filter","user","full_name","email","Job_Title","position","toLowerCase","includes","displayedUsers","slice","maxWidth","e","target","value","length","map","gender","salary","parseFloat","toLocaleString","minimumFractionDigits","anual_salary","Number"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst UserList = () => {\r\n  const [users, setUser] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [entriesToShow, setEntriesToShow] = useState(10);\r\n\r\n  useEffect(() => {\r\n    getUsers();\r\n  }, []);\r\n\r\n  const getUsers = async () => {\r\n    try {\r\n      const response = await axios.get(\"http://localhost:5000/users\");\r\n      setUser(response.data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching users:\", error);\r\n    }\r\n  };\r\n\r\n  const deleteUser = async (id) => {\r\n    try {\r\n      await axios.delete(`http://localhost:5000/users/${id}`);\r\n      getUsers();\r\n    } catch (error) {\r\n      console.error(\"Error deleting user:\", error);\r\n    }\r\n  };\r\n\r\n  // Filter users based on search term\r\n  const filteredUsers = users.filter((user) =>\r\n    `${user.full_name} ${user.email} ${user.Job_Title} ${user.position} ${user.id}`\r\n      .toLowerCase()\r\n      .includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  // Limit displayed entries based on selection\r\n  const displayedUsers = filteredUsers.slice(0, entriesToShow);\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      {/* Search Bar and Action Buttons */}\r\n      <div className=\"is-flex is-justify-content-space-between mb-3\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"input\"\r\n          style={{ maxWidth: \"300px\" }}\r\n          placeholder=\"Search by Employee ID, Name, Email, Job Title, or Position...\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n        />\r\n        <div>\r\n          <Link to=\"AddEmployee\" className=\"button is-success\">\r\n            Add Employee\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Employee Table */}\r\n      <table className=\"table is-striped is-fullwidth\">\r\n        <thead>\r\n          <tr>\r\n            <th>Employee ID</th>\r\n            <th>Full Name</th>\r\n            <th>Email</th>\r\n            <th>Gender</th>\r\n            <th>Job Title</th>\r\n            <th>Position / Level</th>\r\n            <th>Salary</th>\r\n            <th>Annual Salary</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {displayedUsers.length > 0 ? (\r\n            displayedUsers.map((user) => (\r\n              <tr key={user.id}>\r\n                <td>{user.id}</td>\r\n                <td>{user.full_name}</td>\r\n                <td>{user.email}</td>\r\n                <td>{user.gender}</td>\r\n                <td>{user.Job_Title}</td>\r\n                <td>{user.position}</td>\r\n                <td>\r\n                  {user.salary\r\n                    ? `₱${parseFloat(user.salary).toLocaleString(\"en-PH\", {\r\n                        minimumFractionDigits: 2,\r\n                      })}`\r\n                    : \"\"}\r\n                </td>\r\n                <td>\r\n                  {user.anual_salary\r\n                    ? `₱${parseFloat(user.anual_salary).toLocaleString(\r\n                        \"en-PH\",\r\n                        {\r\n                          minimumFractionDigits: 2,\r\n                        }\r\n                      )}`\r\n                    : \"\"}\r\n                </td>\r\n                <td>\r\n                  <Link\r\n                    to={`edit/${user.id}`}\r\n                    className=\"button is-small is-info mr-2\"\r\n                  >\r\n                    Edit\r\n                  </Link>\r\n                  <button\r\n                    onClick={() => deleteUser(user.id)}\r\n                    className=\"button is-small is-danger\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))\r\n          ) : (\r\n            <tr>\r\n              <td colSpan=\"9\" className=\"has-text-centered\">\r\n                No users found.\r\n              </td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n\r\n      {/* Footer with Entry Filter */}\r\n      <div className=\"is-flex is-align-items-center is-justify-content-space-between mt-3\">\r\n        <div>\r\n          <label className=\"mr-2\">Show entries:</label>\r\n          <div className=\"select\">\r\n            <select\r\n              value={entriesToShow}\r\n              onChange={(e) => setEntriesToShow(Number(e.target.value))}\r\n            >\r\n              <option value=\"5\">5</option>\r\n              <option value=\"10\">10</option>\r\n              <option value=\"20\">20</option>\r\n              <option value={filteredUsers.length}>All</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <p>\r\n          Showing {displayedUsers.length} of {filteredUsers.length} entries\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserList;\r\n"]},"metadata":{},"sourceType":"module"}