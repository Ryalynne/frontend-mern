{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/PC/Documents/PROGRAMMING/MERN/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/PC/Documents/PROGRAMMING/MERN/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\PC\\\\Documents\\\\PROGRAMMING\\\\MERN\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{useNavigate,useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditSalary=function EditSalary(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),job_title=_useState2[0],setJob=_useState2[1];var navigate=useNavigate();var _useParams=useParams(),id=_useParams.id;useEffect(function(){var fetchJob=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:5000/job/getJobTitle/\".concat(id));case 3:response=_context.sent;setJob(response.data.Job_Title);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching Job Title:\",_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchJob(){return _ref.apply(this,arguments);};}();fetchJob();},[id]);//save/update\nvar saveJob=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.prev=1;_context2.next=4;return axios.patch(\"http://localhost:5000/job/\".concat(id),{job_title:job_title});case 4:navigate(\"/JobTitleList\");_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](1);console.error(\"Error updating salary:\",_context2.t0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[1,7]]);}));return function saveJob(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"column is-half container mt-5\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:saveJob,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Job Title\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",value:job_title,onChange:function onChange(e){return setJob(e.target.value);},placeholder:\"Job Title\",required:true})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-success\",children:\"Save\"})})]})})});};export default EditSalary;","map":{"version":3,"sources":["C:/Users/PC/Documents/PROGRAMMING/MERN/frontend/src/components/JobTitle/EditJob.js"],"names":["React","useState","useEffect","axios","useNavigate","useParams","EditSalary","job_title","setJob","navigate","id","fetchJob","get","response","data","Job_Title","console","error","saveJob","e","preventDefault","patch","target","value"],"mappings":"6ZAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,SAAtB,KAAuC,kBAAvC,C,wFAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvB,cAA4BL,QAAQ,CAAC,EAAD,CAApC,wCAAOM,SAAP,eAAkBC,MAAlB,eACA,GAAMC,CAAAA,QAAQ,CAAGL,WAAW,EAA5B,CACA,eAAeC,SAAS,EAAxB,CAAQK,EAAR,YAAQA,EAAR,CAEAR,SAAS,CAAC,UAAM,CACd,GAAMS,CAAAA,QAAQ,0FAAG,sLAEUR,CAAAA,KAAK,CAACS,GAAN,iDACoBF,EADpB,EAFV,QAEPG,QAFO,eAKbL,MAAM,CAACK,QAAQ,CAACC,IAAT,CAAcC,SAAf,CAAN,CALa,+EAObC,OAAO,CAACC,KAAR,CAAc,2BAAd,cAPa,oEAAH,kBAARN,CAAAA,QAAQ,0CAAd,CAWAA,QAAQ,GACT,CAbQ,CAaN,CAACD,EAAD,CAbM,CAAT,CAeA;AACA,GAAMQ,CAAAA,OAAO,2FAAG,kBAAOC,CAAP,sHACdA,CAAC,CAACC,cAAF,GADc,wCAGNjB,CAAAA,KAAK,CAACkB,KAAN,qCAAyCX,EAAzC,EAA+C,CACnDH,SAAS,CAATA,SADmD,CAA/C,CAHM,QAMZE,QAAQ,CAAC,eAAD,CAAR,CANY,mFAQZO,OAAO,CAACC,KAAR,CAAc,wBAAd,eARY,sEAAH,kBAAPC,CAAAA,OAAO,6CAAb,CAYA,mBACE,kCACE,YAAK,SAAS,CAAC,+BAAf,uBACE,cAAM,QAAQ,CAAEA,OAAhB,wBAEE,aAAK,SAAS,CAAC,OAAf,wBACE,cAAO,SAAS,CAAC,OAAjB,uBADF,cAEE,YAAK,SAAS,CAAC,SAAf,uBACE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,OAFZ,CAGE,KAAK,CAAEX,SAHT,CAIE,QAAQ,CAAE,kBAACY,CAAD,QAAOX,CAAAA,MAAM,CAACW,CAAC,CAACG,MAAF,CAASC,KAAV,CAAb,EAJZ,CAKE,WAAW,CAAC,WALd,CAME,QAAQ,KANV,EADF,EAFF,GAFF,cAiBE,YAAK,SAAS,CAAC,OAAf,uBACE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,mBAAhC,kBADF,EAjBF,GADF,EADF,EADF,CA6BD,CA9DD,CAgEA,cAAejB,CAAAA,UAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n\r\nconst EditSalary = () => {\r\n  const [job_title, setJob] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    const fetchJob = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `http://localhost:5000/job/getJobTitle/${id}`\r\n        );\r\n        setJob(response.data.Job_Title);\r\n      } catch (error) {\r\n        console.error(\"Error fetching Job Title:\", error);\r\n      }\r\n    };\r\n\r\n    fetchJob();\r\n  }, [id]);\r\n\r\n  //save/update\r\n  const saveJob = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.patch(`http://localhost:5000/job/${id}`, {\r\n        job_title,\r\n      });\r\n      navigate(\"/JobTitleList\");\r\n    } catch (error) {\r\n      console.error(\"Error updating salary:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"column is-half container mt-5\">\r\n        <form onSubmit={saveJob}>\r\n          {/* Job Title */}\r\n          <div className=\"field\">\r\n            <label className=\"label\">Job Title</label>\r\n            <div className=\"control\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"input\"\r\n                value={job_title}\r\n                onChange={(e) => setJob(e.target.value)}\r\n                placeholder=\"Job Title\"\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Submit Button */}\r\n          <div className=\"field\">\r\n            <button type=\"submit\" className=\"button is-success\">\r\n              Save\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditSalary;\r\n"]},"metadata":{},"sourceType":"module"}